(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{206:function(t,e,n){t.exports=n(521)},452:function(t,e,n){},509:function(t,e,n){},511:function(t,e,n){},519:function(t,e,n){},521:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(8),c=n.n(r),s=(n(211),n(13)),i=n(14),u=n(38),l=n(37),h=n(39),p=n(204),b=n(200),d=n.n(b),f=function(){function t(){if(Object(s.a)(this,t),this.instance)return this.instance;this.instance=this}return Object(i.a)(t,[{key:"get",value:function(t){var e=this.constructor.buildUrl(t);return d.a.get(e)}}],[{key:"buildUrl",value:function(t){return"".concat("https://api.github.com").concat(t)}}]),t}(),m=function(){function t(){if(Object(s.a)(this,t),this.instance)return this.instance;this.http=new f,this.instance=this}return Object(i.a)(t,[{key:"searchReposByUser",value:function(t){return this.http.get("/users/".concat(t,"/repos")).then(function(t){return t.slug=t.data.length?"response-ok":"no-public-repo",t}).catch(function(t){switch(t.response.status){case 404:return{data:[],slug:"user-not-found"};default:return t}})}},{key:"getRepoContributors",value:function(t){var e=t.userName,n=t.repoName;return this.http.get("/repos/".concat(e,"/").concat(n,"/contributors")).then(function(t){return t.slug="response-ok",204===t.status&&(t.data=[],t.slug="no-contributors"),t})}}]),t}(),g=n(201),v=(n(452),"User not found"),y=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(o)))).state={isLoading:!1,options:[],emptyLabel:v,query:""},n._repoService=new m,n._handleSelect=function(t){var e=Object(p.a)(t,1)[0];return!!e&&n.props.onSelectRepo(e)},n._handleSearch=function(t){n.setState({isLoading:!0,options:[]}),n._repoService.searchReposByUser(t).then(function(e){var a=e.data,o=e.slug,r={options:a,isLoading:!1,emptyLabel:v};"no-public-repo"===o&&(r.emptyLabel='User "'.concat(t,'" has no repos to show')),n.setState(r)})},n}return Object(h.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this.state,e=t.isLoading,n=t.options,a=t.emptyLabel;return o.a.createElement("section",null,o.a.createElement(g.AsyncTypeahead,{autoFocus:!0,options:n,onSearch:this._handleSearch,onChange:this._handleSelect,minLength:2,labelKey:"full_name",isLoading:e,emptyLabel:a,placeholder:"Type a GitHub user name to search its repo list..."}))}}]),e}(o.a.Component),j=n(205),S=n(202),_=function(){var t=Math.round,e=Math.random;return[t(255*e()),t(255*e()),t(255*e())].join(",")},w=(n(509),function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(o)))).state={title:"Select a repo",contributors:[],chartData:{labels:[],datasets:[]}},n._repoService=new m,n._fetchRepoContributors=function(){var t=n.props.repo,e=t.name,a=t.owner;n._repoService.getRepoContributors({repoName:e,userName:a.login}).then(function(t){var e=t.data,a=t.slug;"response-ok"===a?(n.setState({contributors:e}),n._parseDataFromContributors()):"no-contributors"===a&&n.setState({contributors:[],title:"Repo has no contributors"})})},n._parseDataFromContributors=function(){var t=n.state,e=t.contributors,a=t.chartData,o=Object(j.a)({},a);if(e.length){var r=[],c=[],s=[],i=[],u=[],l=[];e.forEach(function(t){var e=_();c.push(t.login),r.push(t.contributions),s.push("rgba(".concat(e,",1)")),i.push("rgba(".concat(e,",0.2)")),u.push("rgba(".concat(e,",1)")),l.push("rgba(".concat(e,",0.4)"))}),o.labels=c,o.datasets=[{borderWidth:1,label:"Contributions",data:r,borderColor:s,backgroundColor:i,hoverBorderColor:u,hoverBackgroundColor:l}],n.setState({chartData:o})}},n}return Object(h.a)(e,t),Object(i.a)(e,[{key:"componentDidUpdate",value:function(t){var e=this.props.repo,n=t.repo;!e||n&&e.id===n.id||this._fetchRepoContributors()}},{key:"render",value:function(){var t=this.state,e=t.contributors,n=t.chartData,a=t.title,r=this.props.repo;return e.length?o.a.createElement("section",{className:"container-fluid text-center RepoStats__bar-chart"},o.a.createElement("h3",null,r.full_name),o.a.createElement(S.a,{data:n,height:300,options:{maintainAspectRatio:!1}})):o.a.createElement("section",{className:"container-fluid text-center RepoStats__bar-chart"},o.a.createElement("h3",null,a))}}]),e}(o.a.Component)),O=(n(511),function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(o)))).state={repo:null},n._onSelectRepo=function(t){return n.setState({repo:t})},n}return Object(h.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return o.a.createElement("section",{className:"container-fluid"},o.a.createElement("header",{className:"jumbotron-fluid App__header"},o.a.createElement("h2",null,"GitHub User Repos Stats ",o.a.createElement("small",null,"v0.1"))),o.a.createElement(y,{onSelectRepo:this._onSelectRepo}),o.a.createElement(w,this.state))}}]),e}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(513),n(515),n(517),n(519);c.a.render(o.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[206,2,1]]]);
//# sourceMappingURL=main.8fa43bd0.chunk.js.map